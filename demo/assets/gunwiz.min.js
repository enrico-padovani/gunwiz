!function(t,e){"use strict";function n(t){/in/.test(e.readyState)?setTimeout("gunwiz.ready("+t+")",9):t()}function r(t){var n=[];if(0===e.forms.length)return n;for(var r=0;r<e.forms[0].elements.length;r+=1)e.forms[0].elements[r].type===t&&n.push(e.forms[0].elements[r]);return n}function o(t){for(var n=[],r=e.getElementsByTagName("*"),o=0;o<r.length;o+=1)null!==r[o].getAttribute(t)&&n.push(r[o]);return n}function a(t){return t===e.activeElement}function i(t){return(t||"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function u(){if(!p&&0!==e.forms.length){p=!0;var t,n=r("text"),o=!1;for(t=0;t<n.length;t+=1)if(a(n[t])&&(o=!0),""===i(n[t].value)){if(null===n[t].getAttribute("data-gw-optional"))return n[t].focus(),void(p=!1);if(!a(n[t])&&o)return n[t].focus(),void(p=!1);t!==n.length-1}for(t=0;t<n.length;t+=1)n[t].value=i(n[t].value).toUpperCase();e.forms[0].submit()}}function f(t,e){if(e){if("function"!=typeof e)throw new Error("Controller '"+t+"' not a function");var n=e();if(!n)throw new Error("Controller '"+t+"' not a factory function");return g.push({name:t,controller:n}),n}for(var r=0;r<g.length;r+=1)if(g[r].name===t)return g[r].controller;throw new Error("Controller '"+t+"' not found")}function l(t){var e=t.currentTarget||t.srcElement||t,n=e.getAttribute("data-gw-click");if(n){n=n.replace("()","");var r,a=o("data-gw-controller");r=1===a.length?f(a[0].getAttribute("data-gw-controller"))[n]:s.functions[n],"function"==typeof r&&r()}}function c(){if(!h){var n,a=o("data-gw-info");a.length>0&&a[0].appendChild(e.createTextNode(s.appTitle+" v."+s.appVersion+" - by "+s.appManufacturer)),e.onkeydown=function(e){var r=e?e.which?e.which:e.keyCode:event.keyCode,a=27===r?"ESC":13===r?"ENTER":String.fromCharCode(r),i=o("data-gw-hotkey");for(n=0;n<i.length;n+=1)if(i[n].getAttribute("data-gw-hotkey").toUpperCase()===a&&i[n].href)return i[n].href===t.location.href+"#"?l(i[n]):t.location.href=i[n].href,!1;return!0};var i=r("text");if(i.length>0){var u=!1;for(n=0;n<i.length;n+=1)if(""===i[n].value){i[n].focus(),u=!0;break}u||i[0].focus()}e.forms.length>0&&(e.forms[0].onsubmit=function(){return!1});var f=o("data-gw-click");for(n=0;n<f.length;n+=1)d(f[n],"click",function(t){l(t)});h=!0}}var s=t.gunwiz||(t.gunwiz={}),g=[],h=!1,p=!1,d=function(){return t.addEventListener?function(t,e,n){t.addEventListener(e,n,!1)}:function(t,e,n){t.attachEvent("on"+e,n)}}();s.appTitle="",s.appVersion="",s.appManufacturer="",s.getFormElementsByType=r,s.getElementsByAttribute=o,s.controller=f,s.bootstrap=c,s.ready=n,s.on=d,s.functions={submit:u}}(window,document);